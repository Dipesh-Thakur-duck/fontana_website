<!DOCTYPE html>
<html>
  <head>
    <title>Ad Changer</title>
    <style>
      .slider{
        position:relative;
        width:1130px;
        height:550px;
      }
      .slide{
        position:absolute;
        top:0;
        left:0;
        width:100%;
        object-fit:contain;
        transition:opacity 0.6s ease;
        opacity:0;
      }
      .slide.active{
        opacity:1;
      }
      .prev{
        position:absolute;
        left:10px;
        top:50%;
        transform:translateY(-50%);
      }
      .next{
        position:absolute;
        top:50%;
        right:10px;
        transform:translateY(-50%);
      }
      .slider-divs{
        position:absolute;
        bottom:50px;
        left:50%;
        transform:translateX(-50%);
        display:flex;
        gap:20px;
      }
      .slider-divs div{
        width:10px;
        height:5px;
        background-color:white;
        transition:background-color 0.15s, width 0.15s;
        cursor:pointer;
      }
      .slider-divs div:hover{
        background-color:black;
      }
      .slider-divs div.expand-slider-div{
        width:30px;
        background-color:black;
      }
    </style>
  </head>
  <body>
    <div class="slider">
      <img src="../image-slider/logo.jpg" class="slide active">
      <img src="../image-slider/banner1.png" class="slide">
      <img src="../image-slider/banner2.webp" class="slide">
      <img src="../image-slider/banner3.webp" class="slide">
      <img src="../image-slider/banner4.png" class="slide">

      <button class="prev">❮</button>
      <button class="next">❯</button>

      <div class="slider-divs">
        <div class="slider-divs1" onclick="
            adChangerExpand(1);
            showSlide(0);
          "></div>
        <div class="slider-divs2" onclick="
            adChangerExpand(2);
            showSlide(1);
          "></div>
        <div class="slider-divs3" onclick="
            adChangerExpand(3);
            showSlide(2);
          "></div>
        <div class="slider-divs4" onclick="
            adChangerExpand(4);
            showSlide(3);
          "></div>
        <div class="slider-divs5" onclick="
            adChangerExpand(5);
            showSlide(4);
          "></div>
      </div>

    </div>
    <script>
      const slides = document.querySelectorAll('.slide');
      const prevBtn = document.querySelector('.prev');
      const nextBtn = document.querySelector('.next');

      let index = 0;

      function showSlide(i){
        slides.forEach(slide => slide.classList.remove('active'));
        slides[i].classList.add('active');
      }

      nextBtn.addEventListener('click',()=>{
        index = (index + 1) %slides.length;
        showSlide(index);
        adChangerExpand(index+1);
      });
      prevBtn.addEventListener('click',()=>{
        index = (index - 1 + slides.length) % slides.length;
        showSlide(index);
        adChangerExpand(index+1);
      });

      function adChangerExpand(buttonNum) {

        // 1. Select ALL slider-divs inside .slider-divs
        const allDivs = document.querySelectorAll('.slider-divs > div');

        // 2. Remove .expand from all of them
        allDivs.forEach(div => div.classList.remove('expand-slider-div'));

        // 3. Add .expand to the selected one
        const selectedDiv = allDivs[buttonNum - 1]; // buttonNum starts at 1
        selectedDiv.classList.add('expand-slider-div');
      }
      adChangerExpand(1);
    </script>
  </body>
</html>